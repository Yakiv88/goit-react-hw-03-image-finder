{"version":3,"sources":["Components/ImageError/ImageError.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/App/App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/images/error.jpg","Components/ImageError/ImageError.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","services/Api/images-api.js","Components/App/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleQueryChange","e","setState","target","value","toLowerCase","handleSubmit","onSubmit","props","preventDefault","trim","toast","error","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","name","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onToggleModal","handleBackdropClick","event","currentTarget","window","addEventListener","removeEventListener","modalImg","tags","createPortal","Overlay","onClick","src","alt","ImageGalleryItem","id","previewImg","showModal","onImgClick","largeImageURL","ImageGalleryItemImage","ImageError","message","role","AlertWrapper","Img","errorImage","width","Message","ImageGallery","toggleModal","img","imageListContent","images","map","webformatURL","Button","onLoadMore","styles","spinner","display","alignItems","marginBottom","fontSize","Loader","style","size","key","axios","defaults","baseURL","params","page","a","get","hits","data","fetchImagesApi","App","status","loading","fetchImages","then","prevState","finally","loadMore","scrollWindow","catch","err","console","log","scrollTo","top","documentElement","scrollHeight","behavior","handleFormSubmit","prevProps","loadMoreImages","length","imagesListEmpty","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.006f5481.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"ImageError_Message__1eTYx\",\"Img\":\"ImageError_Img___nZjN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3AePW\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__30E7H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__t-80x\",\"Modal\":\"Modal_Modal__20P13\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2gZT0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3tb-B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__K_efE\"};","import { Component } from 'react'\nimport s from './Searchbar.module.css'\nimport { toast } from 'react-toastify'\nimport PropTypes from 'prop-types'\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  }\n\n  handleQueryChange = (e) => {\n    this.setState({ query: e.target.value.toLowerCase() })\n  }\n\n  handleSubmit = (e) => {\n    const { onSubmit } = this.props\n    const { query } = this.state\n    e.preventDefault()\n    if (query.trim() === '') {\n      return toast.error('ВВедите запрос')\n    }\n    onSubmit(query)\n    this.setState({ query: '' })\n  }\n\n  render() {\n    const { handleSubmit, handleQueryChange } = this\n    const { query } = this.state\n    return (\n      <div>\n        <header className={s.Searchbar}>\n          <form className={s.SearchForm} onSubmit={handleSubmit}>\n            <button type=\"submit\" className={s.SearchFormButton}>\n              <span className={s.SearchFormButtonLabel}>Search</span>\n            </button>\n\n            <input\n              name=\"query\"\n              value={query}\n              onChange={handleQueryChange}\n              className={s.SearchFormInput}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n      </div>\n    )\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n}\n\nexport default Searchbar\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    // console.log(\"Component did mount\");\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    // console.log(\"Component will unmount\");\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onToggleModal();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onToggleModal();\n    }\n  };\n\n  render() {\n    const { modalImg, tags } = this.props;\n    const { handleBackdropClick } = this;\n    return createPortal(\n      <div className={s.Overlay} onClick={handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={modalImg} alt={tags} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\nModal.propTypes = {\n  onToggleModal: PropTypes.func,\n  modalImg: PropTypes.string,\n  tags: PropTypes.string,\n};\n\nexport default Modal;\n","import s from './ImageGalleryItem.module.css'\nimport Modal from '../Modal/Modal'\nimport PropTypes from 'prop-types'\n\nfunction ImageGalleryItem({\n  id,\n  previewImg,\n  tags,\n  onToggleModal,\n  showModal,\n  modalImg,\n  onImgClick,\n  largeImageURL,\n}) {\n  return (\n    <>\n      <li className={s.ImageGalleryItem} key={id}>\n        <img\n          data-img={largeImageURL}\n          src={previewImg}\n          alt={tags}\n          className={s.ImageGalleryItemImage}\n          onClick={() => onImgClick(largeImageURL)}\n        />\n      </li>\n\n      {showModal && (\n        <Modal modalImg={modalImg} onToggleModal={onToggleModal} tags={tags} />\n      )}\n    </>\n  )\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number,\n  previewImg: PropTypes.string,\n  tags: PropTypes.string,\n  onToggleModal: PropTypes.func,\n  showModal: PropTypes.bool,\n  modalImg: PropTypes.string,\n  onClick: PropTypes.func,\n}\n\nexport default ImageGalleryItem\n","export default __webpack_public_path__ + \"static/media/error.7d86105a.jpg\";","import errorImage from '../images/error.jpg'\nimport s from './ImageError.module.css'\nimport PropTypes from 'prop-types'\n\nexport default function ImageError({ message }) {\n  return (\n    <div role=\"alert\" className={s.AlertWrapper}>\n      <img className={s.Img} src={errorImage} width=\"340\" alt=\"sadcat\" />\n      <p className={s.Message}>There are no {message} images!</p>\n    </div>\n  )\n}\n\nImageError.propTypes = {\n  message: PropTypes.string,\n}\n","import { Component } from 'react'\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\nimport s from './ImageGallery.module.css'\nimport PropTypes from 'prop-types'\nimport ImageError from '../ImageError/ImageError'\n\nclass ImageGallery extends Component {\n  state = {\n    showModal: false,\n    modalImg: '',\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }))\n  }\n\n  onImgClick = (img) => {\n    this.setState({ modalImg: img })\n    this.toggleModal()\n  }\n\n  render() {\n    let imageListContent\n    const { images } = this.props\n    const { onImgClick, toggleModal } = this\n    const { showModal, modalImg } = this.state\n\n    if (images) {\n      imageListContent = (\n        <ul className={s.ImageGallery}>\n          {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n            <ImageGalleryItem\n              largeImageURL={largeImageURL}\n              key={id}\n              previewImg={webformatURL}\n              tags={tags}\n              onToggleModal={toggleModal}\n              showModal={showModal}\n              onImgClick={onImgClick}\n              modalImg={modalImg}\n            />\n          ))}\n        </ul>\n      )\n    } else {\n      ;<ImageError />\n    }\n\n    return <div>{imageListContent}</div>\n  }\n}\n\nImageGallery.propTypes = {\n  onImgClick: PropTypes.func,\n  onToggleModal: PropTypes.func,\n  showModal: PropTypes.bool,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ),\n}\n\nexport default ImageGallery\n","import s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { ImSpinner } from \"react-icons/im\";\n\nconst styles = {\n  spinner: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 10,\n    fontSize: 24,\n  },\n};\n\nfunction Loader() {\n  return (\n    <div role=\"alert\">\n      <div style={styles.spinner}>\n        <ImSpinner size=\"32\" className=\"icon-spin\" />\n        Loading...\n      </div>\n    </div>\n  );\n}\n\nexport default Loader;\n","import axios from 'axios'\n\nconst key = '23205731-7fb91d1243025876effb63184'\naxios.defaults.baseURL = 'https://pixabay.com/api/'\nconst params = 'image_type=photo&orientation=horizontal&per_page=12'\n\nasync function fetchImagesApi(query, page) {\n  const {\n    data: { hits },\n  } = await axios.get(`?&q=${query}&page=${page}&key=${key}&${params}`)\n  return hits\n}\n\nexport default fetchImagesApi\n","import { Component } from 'react'\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport s from './App.module.css'\nimport Searchbar from '../Searchbar/Searchbar'\nimport ImageGallery from '../ImageGallery/ImageGallery'\nimport Button from '../Button/Button'\nimport Loader from '../Loader/Loader'\nimport ImageError from '../ImageError/ImageError'\nimport fetchImagesApi from '../../services/Api/images-api'\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    images: [],\n    error: null,\n    status: 'idle',\n    loading: false,\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state\n    if (query !== prevState.query) {\n      this.fetchImages().catch((err) => {\n        console.log(err)\n      })\n    }\n  }\n\n  fetchImages = () => {\n    const { query, page } = this.state\n    this.setState({ loading: true })\n    return fetchImagesApi(query, page)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }))\n      })\n      .finally(() => this.setState({ loading: false }))\n  }\n\n  loadMore = () => {\n    this.setState({ loading: true })\n    this.fetchImages()\n      .then(() => {\n        this.scrollWindow()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => this.setState({ loading: false }))\n  }\n\n  scrollWindow = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    })\n  }\n\n  handleFormSubmit = (query) => {\n    this.setState({ query, page: 1, images: [] })\n  }\n\n  render() {\n    const { handleFormSubmit, loadMore } = this\n    const { images, query, loading } = this.state\n    const loadMoreImages = images.length > 0 && images.length >= 12\n    const imagesListEmpty = query !== ''\n\n    return (\n      <div className={s.App}>\n        <ToastContainer autoClose={3000} />\n        <Searchbar onSubmit={handleFormSubmit} />\n        {images.length > 0 ? (\n          <ImageGallery images={images} />\n        ) : (\n          imagesListEmpty && <ImageError message={query} />\n        )}\n        {loadMoreImages && <Button onLoadMore={loadMore} />}\n        {loading && <Loader />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2BxIm\",\"SearchForm\":\"Searchbar_SearchForm__MfU3G\",\"SearchFormButton\":\"Searchbar_SearchFormButton__dzuFv\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__KSX5W\",\"SearchFormInput\":\"Searchbar_SearchFormInput__21HBZ\"};"],"sourceRoot":""}